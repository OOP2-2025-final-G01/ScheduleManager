<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>学習管理システム - 警告機能</title>
    <style>
        .alert-box {
            background-color: #fff0f0;
            border: 2px solid #ff4d4d;
            padding: 20px;
            margin: 20px;
            border-radius: 10px;
        }
        .overdue-tag {
            background-color: #ff4d4d;
            color: white;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.8em;
            margin-right: 10px;
        }
        .date-text { color: #666; font-size: 0.9em; }
    </style>
</head>
<body>
    <h1>学習ダッシュボード</h1>
    <p>今日は <strong>{{ today }}</strong> です。</p>

    {% if tasks %}
    <div class="alert-box">
        <h2 style="color: #d00; margin-top: 0;">⚠️ 期限切れのタスクがあります！</h2>
        <p>以下のタスクが未完了のまま期限を過ぎています。</p>
        <ul>
            {% for task in tasks %}
            <li style="margin-bottom: 10px;">
                <span class="overdue-tag">期限切れ</span>
                <strong>{{ task.name }}</strong> 
                <span class="date-text">(予定日: {{ task.date }})</span>
            </li>
            {% endfor %}
        </ul>
    </div>
    {% else %}
    <p style="color: green;">✅ すべての過去タスクが完了しています！</p>
    {% endif %}
</body>
</html>